{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\5518\\\\work1\\\\client\\\\src\\\\components\\\\Cart.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, forwardRef, useImperativeHandle } from 'react';\nimport axios from 'axios';\nimport jsPDF from 'jspdf';\nimport autoTable from 'jspdf-autotable';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Cart = /*#__PURE__*/_s(/*#__PURE__*/forwardRef(_c = _s(({\n  tableId,\n  onOrderComplete\n}, ref) => {\n  _s();\n  const [cartItems, setCartItems] = useState([]);\n  const [taxes, setTaxes] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [successMessage, setSuccessMessage] = useState('');\n  const [showBill, setShowBill] = useState(false);\n  const [billData, setBillData] = useState(null);\n\n  // Initialize taxes\n  useEffect(() => {\n    console.log('Cart: Initializing'); // Debug log\n    fetchTaxes();\n  }, []);\n\n  // Reset cart items when table changes\n  useEffect(() => {\n    console.log('Cart: Table changed to:', tableId); // Debug log\n    setCartItems([]);\n    setError(null);\n    setSuccessMessage(''); // Clear success message when table changes\n  }, [tableId]);\n  useImperativeHandle(ref, () => ({\n    addToCart: dish => {\n      console.log('Cart: addToCart called with dish:', dish); // Debug log\n\n      if (!tableId) {\n        console.log('Cart: No table selected'); // Debug log\n        setError('Please select a table first');\n        setSuccessMessage(''); // Clear any existing success message\n        return;\n      }\n      if (!dish) {\n        console.log('Cart: No dish provided'); // Debug log\n        return;\n      }\n      setCartItems(prevItems => {\n        const existingItem = prevItems.find(item => item.id === dish.id);\n        if (existingItem) {\n          console.log('Cart: Updating existing item quantity'); // Debug log\n          return prevItems.map(item => item.id === dish.id ? {\n            ...item,\n            quantity: (parseInt(item.quantity) || 1) + 1\n          } : item);\n        }\n        console.log('Cart: Adding new item'); // Debug log\n        return [...prevItems, {\n          ...dish,\n          quantity: 1\n        }];\n      });\n      setError(null);\n    }\n  }), [tableId]);\n  const fetchTaxes = async () => {\n    try {\n      setLoading(true);\n      const response = await axios.get('http://localhost:5000/api/taxes');\n      setTaxes(response.data);\n      setError(null);\n    } catch (err) {\n      console.error('Cart: Error fetching taxes:', err);\n      setError('Failed to fetch taxes');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const removeFromCart = dishId => {\n    setCartItems(prevItems => prevItems.filter(item => item.id !== dishId));\n  };\n  const updateQuantity = (dishId, newQuantity) => {\n    if (newQuantity < 1) {\n      removeFromCart(dishId);\n      return;\n    }\n    setCartItems(prevItems => prevItems.map(item => item.id === dishId ? {\n      ...item,\n      quantity: newQuantity\n    } : item));\n  };\n  const calculateSubtotal = () => {\n    return cartItems.reduce((sum, item) => {\n      const price = parseFloat(item.price) || 0;\n      const quantity = parseInt(item.quantity) || 0;\n      return sum + price * quantity;\n    }, 0);\n  };\n  const calculateTax = subtotal => {\n    return taxes.reduce((sum, tax) => {\n      const percentage = parseFloat(tax.percentage) || 0;\n      return sum + subtotal * percentage / 100;\n    }, 0);\n  };\n  const calculateTotal = () => {\n    const subtotal = calculateSubtotal();\n    const tax = calculateTax(subtotal);\n    return subtotal + tax;\n  };\n  const handlePlaceOrder = async () => {\n    if (!tableId) {\n      setError('Please select a table first');\n      return;\n    }\n    if (cartItems.length === 0) {\n      setError('Cart is empty');\n      return;\n    }\n    try {\n      // Format items for the server\n      const formattedItems = cartItems.map(item => ({\n        id: item.id,\n        quantity: item.quantity,\n        price: item.price\n      }));\n      const orderData = {\n        table_id: tableId,\n        items: formattedItems,\n        total_amount: calculateTotal()\n      };\n      console.log('Cart: Sending order data:', orderData);\n      const response = await axios.post('http://localhost:5000/api/orders', orderData);\n      console.log('Cart: Order created successfully:', response.data);\n\n      // Generate bill\n      const billResponse = await axios.get(`http://localhost:5000/api/orders/${response.data.id}/bill`);\n      setBillData(billResponse.data);\n      setShowBill(true);\n\n      // Clear cart after successful order\n      setCartItems([]);\n      setError('');\n      setSuccessMessage('Order placed successfully!');\n    } catch (error) {\n      var _error$response, _error$response2, _error$response2$data;\n      console.error('Cart: Error placing order:', ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || error.message);\n      setError(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.error) || 'Failed to create order');\n    }\n  };\n  const generatePDF = () => {\n    if (!billData) {\n      setError('No bill data available');\n      return;\n    }\n    try {\n      // Initialize PDF with 80mm width (converting mm to points: 80mm = 226.772 points)\n      // Height is set to auto (297mm = 841.89 points)\n      const doc = new jsPDF({\n        unit: 'mm',\n        format: [80, 297],\n        orientation: 'portrait'\n      });\n\n      // Set initial y position\n      let yPos = 10;\n\n      // Add header\n      doc.setFontSize(12);\n      doc.text('Bill Details', 40, yPos, {\n        align: 'center'\n      });\n\n      // Move down\n      yPos += 10;\n\n      // Add bill information\n      doc.setFontSize(8);\n      doc.text(`Order ID: ${billData.orderId}`, 5, yPos);\n      yPos += 5;\n      doc.text(`Table Number: T${billData.tableNumber}`, 5, yPos);\n      yPos += 5;\n      doc.text(`Date: ${new Date(billData.date).toLocaleString()}`, 5, yPos);\n      yPos += 8;\n\n      // Create items table\n      const tableColumn = ['Item', 'Qty', 'Price', 'Total'];\n      const tableRows = billData.items.map(item => {\n        const price = Number(item.price);\n        const quantity = Number(item.quantity);\n        const total = price * quantity;\n        return [item.name, quantity.toString(), price.toFixed(2), total.toFixed(2)];\n      });\n\n      // Add items table using autoTable\n      autoTable(doc, {\n        startY: yPos,\n        head: [tableColumn],\n        body: tableRows,\n        theme: 'plain',\n        styles: {\n          fontSize: 8,\n          cellPadding: 2,\n          lineColor: [0, 0, 0],\n          lineWidth: 0.1,\n          minCellHeight: 6\n        },\n        columnStyles: {\n          0: {\n            cellWidth: 30\n          },\n          // Item name\n          1: {\n            cellWidth: 10,\n            halign: 'center'\n          },\n          // Quantity\n          2: {\n            cellWidth: 15,\n            halign: 'right'\n          },\n          // Price\n          3: {\n            cellWidth: 15,\n            halign: 'right'\n          } // Total\n        },\n        headStyles: {\n          fillColor: false,\n          textColor: [0, 0, 0],\n          fontStyle: 'bold',\n          halign: 'left'\n        },\n        margin: {\n          left: 5,\n          right: 5\n        },\n        tableWidth: 70\n      });\n\n      // Get the final Y position after the table\n      yPos = doc.lastAutoTable.finalY + 5;\n\n      // Calculate totals\n      const subtotal = billData.items.reduce((sum, item) => {\n        const price = Number(item.price) || 0;\n        const quantity = Number(item.quantity) || 0;\n        return sum + price * quantity;\n      }, 0);\n      const tax = subtotal * 0.1; // 10% tax\n      const total = subtotal + tax;\n\n      // Add summary with right alignment\n      doc.setFontSize(8);\n      doc.text(`Subtotal: ${subtotal.toFixed(2)}`, 75, yPos, {\n        align: 'right'\n      });\n      yPos += 5;\n      doc.text(`Tax: ${tax.toFixed(2)}`, 75, yPos, {\n        align: 'right'\n      });\n      yPos += 5;\n      doc.setFont(undefined, 'bold');\n      doc.text(`Total: ${total.toFixed(2)}`, 75, yPos, {\n        align: 'right'\n      });\n\n      // Save the PDF\n      doc.save(`bill-${billData.orderId}.pdf`);\n      setError(null);\n    } catch (err) {\n      console.error('Error generating PDF:', err);\n      setError(`Failed to generate PDF: ${err.message}`);\n    }\n  };\n  const handleCloseBill = async () => {\n    try {\n      // Try to generate PDF first\n      generatePDF();\n\n      // If PDF generation was successful, proceed with closing the bill\n      await axios.patch(`http://localhost:5000/api/tables/${tableId}/status`, {\n        status: 'available'\n      });\n\n      // Clear the bill and cart\n      setShowBill(false);\n      setCartItems([]);\n      setSuccessMessage('Bill closed and table marked as available');\n      setTimeout(() => setSuccessMessage(''), 3000);\n\n      // Notify parent component if callback exists\n      if (typeof onOrderComplete === 'function') {\n        onOrderComplete();\n      }\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error('Cart: Error closing bill:', err);\n      setError('Failed to close bill: ' + (((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || err.message));\n      setTimeout(() => setError(null), 3000);\n    }\n  };\n  const formatCurrency = value => {\n    const number = parseFloat(value);\n    return isNaN(number) ? '0.00' : number.toFixed(2);\n  };\n  const formatDate = dateString => {\n    return new Date(dateString).toLocaleString();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-bold mb-4\",\n      children: \"Cart\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 13\n    }, this), successMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4 p-3 bg-green-100 border border-green-400 text-green-700 rounded\",\n      children: successMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 17\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 17\n    }, this), showBill && billData && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-6 rounded-lg shadow-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl font-bold mb-3\",\n        children: \"Bill Details\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Order ID:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 28\n          }, this), \" \", billData.orderId]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Table Number:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 28\n          }, this), \" \", billData.tableNumber]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Date:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 28\n          }, this), \" \", formatDate(billData.date)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"w-full\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: \"border-b\",\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"text-left py-2\",\n                  children: \"Item\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 332,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"text-center py-2\",\n                  children: \"Qty\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 333,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"text-right py-2\",\n                  children: \"Price\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 334,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"text-right py-2\",\n                  children: \"Total\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 335,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: billData.items.map((item, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: \"border-b\",\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"py-2\",\n                  children: item.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 341,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"text-center py-2\",\n                  children: item.quantity\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 342,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"text-right py-2\",\n                  children: [\"\\u20B9\", formatCurrency(item.price)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 343,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"text-right py-2\",\n                  children: [\"\\u20B9\", formatCurrency(item.quantity * item.price)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 344,\n                  columnNumber: 45\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 340,\n                columnNumber: 41\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"tfoot\", {\n              children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                className: \"border-b\",\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  colSpan: \"3\",\n                  className: \"text-right py-2\",\n                  children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Subtotal:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 350,\n                    columnNumber: 85\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 350,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"text-right py-2\",\n                  children: [\"\\u20B9\", formatCurrency(billData.subtotal)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 351,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 349,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: \"border-b\",\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  colSpan: \"3\",\n                  className: \"text-right py-2\",\n                  children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Tax:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 354,\n                    columnNumber: 85\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 354,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"text-right py-2\",\n                  children: [\"\\u20B9\", formatCurrency(billData.tax)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 355,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 353,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  colSpan: \"3\",\n                  className: \"text-right py-2\",\n                  children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Total:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 358,\n                    columnNumber: 85\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 358,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"text-right py-2 font-bold\",\n                  children: [\"\\u20B9\", formatCurrency(billData.total)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 359,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-6 flex justify-end space-x-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: generatePDF,\n            className: \"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-5 h-5\",\n              fill: \"none\",\n              stroke: \"currentColor\",\n              viewBox: \"0 0 24 24\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: 2,\n                d: \"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 371,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 370,\n              columnNumber: 33\n            }, this), \"Download PDF\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleCloseBill,\n            className: \"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-5 h-5\",\n              fill: \"none\",\n              stroke: \"currentColor\",\n              viewBox: \"0 0 24 24\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: 2,\n                d: \"M5 13l4 4L19 7\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 380,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 379,\n              columnNumber: 33\n            }, this), \"Close Bill\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 17\n    }, this), !tableId && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4 p-3 bg-yellow-100 border border-yellow-400 text-yellow-700 rounded\",\n      children: \"Please select a table to start ordering\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 390,\n      columnNumber: 17\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center items-center py-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 396,\n      columnNumber: 17\n    }, this) : cartItems.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-gray-500\",\n      children: \"Your cart is empty\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 400,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4 mb-6\",\n        children: cartItems.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center border-b pb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-semibold\",\n              children: item.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 407,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600\",\n              children: [\"\\u20B9\", parseFloat(item.price || 0).toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 408,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 406,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => updateQuantity(item.id, (parseInt(item.quantity) || 1) - 1),\n                className: \"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center hover:bg-gray-300\",\n                children: \"-\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 412,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"w-8 text-center\",\n                children: item.quantity || 1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 418,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => updateQuantity(item.id, (parseInt(item.quantity) || 1) + 1),\n                className: \"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center hover:bg-gray-300\",\n                children: \"+\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 419,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => removeFromCart(item.id),\n              className: \"text-red-500 hover:text-red-700\",\n              children: \"Remove\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 426,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 410,\n            columnNumber: 33\n          }, this)]\n        }, item.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 403,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"border-t pt-4 space-y-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Subtotal:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 439,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"\\u20B9\", calculateSubtotal().toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 440,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 438,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Tax:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 443,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"\\u20B9\", calculateTax(calculateSubtotal()).toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 444,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 442,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between font-bold\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Total:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 447,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"\\u20B9\", calculateTotal().toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 448,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 446,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 437,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-6 space-y-3\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handlePlaceOrder,\n          disabled: loading,\n          className: \"w-full py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:bg-blue-300\",\n          children: loading ? 'Placing Order...' : 'Place Order'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 453,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 452,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 305,\n    columnNumber: 9\n  }, this);\n}, \"XHjdeNwCl4I9CfB2e/XzFTEJEPA=\")), \"XHjdeNwCl4I9CfB2e/XzFTEJEPA=\");\n_c2 = Cart;\nCart.displayName = 'Cart';\nexport default Cart;\nvar _c, _c2;\n$RefreshReg$(_c, \"Cart$forwardRef\");\n$RefreshReg$(_c2, \"Cart\");","map":{"version":3,"names":["React","useState","useEffect","forwardRef","useImperativeHandle","axios","jsPDF","autoTable","jsxDEV","_jsxDEV","Fragment","_Fragment","Cart","_s","_c","tableId","onOrderComplete","ref","cartItems","setCartItems","taxes","setTaxes","loading","setLoading","error","setError","successMessage","setSuccessMessage","showBill","setShowBill","billData","setBillData","console","log","fetchTaxes","addToCart","dish","prevItems","existingItem","find","item","id","map","quantity","parseInt","response","get","data","err","removeFromCart","dishId","filter","updateQuantity","newQuantity","calculateSubtotal","reduce","sum","price","parseFloat","calculateTax","subtotal","tax","percentage","calculateTotal","handlePlaceOrder","length","formattedItems","orderData","table_id","items","total_amount","post","billResponse","_error$response","_error$response2","_error$response2$data","message","generatePDF","doc","unit","format","orientation","yPos","setFontSize","text","align","orderId","tableNumber","Date","date","toLocaleString","tableColumn","tableRows","Number","total","name","toString","toFixed","startY","head","body","theme","styles","fontSize","cellPadding","lineColor","lineWidth","minCellHeight","columnStyles","cellWidth","halign","headStyles","fillColor","textColor","fontStyle","margin","left","right","tableWidth","lastAutoTable","finalY","setFont","undefined","save","handleCloseBill","patch","status","setTimeout","_err$response","_err$response$data","formatCurrency","value","number","isNaN","formatDate","dateString","className","children","fileName","_jsxFileName","lineNumber","columnNumber","index","colSpan","onClick","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","disabled","_c2","displayName","$RefreshReg$"],"sources":["C:/Users/5518/work1/client/src/components/Cart.jsx"],"sourcesContent":["import React, { useState, useEffect, forwardRef, useImperativeHandle } from 'react';\r\nimport axios from 'axios';\r\nimport jsPDF from 'jspdf';\r\nimport autoTable from 'jspdf-autotable';\r\n\r\nconst Cart = forwardRef(({ tableId, onOrderComplete }, ref) => {\r\n    const [cartItems, setCartItems] = useState([]);\r\n    const [taxes, setTaxes] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState(null);\r\n    const [successMessage, setSuccessMessage] = useState('');\r\n    const [showBill, setShowBill] = useState(false);\r\n    const [billData, setBillData] = useState(null);\r\n\r\n    // Initialize taxes\r\n    useEffect(() => {\r\n        console.log('Cart: Initializing'); // Debug log\r\n        fetchTaxes();\r\n    }, []);\r\n\r\n    // Reset cart items when table changes\r\n    useEffect(() => {\r\n        console.log('Cart: Table changed to:', tableId); // Debug log\r\n        setCartItems([]);\r\n        setError(null);\r\n        setSuccessMessage(''); // Clear success message when table changes\r\n    }, [tableId]);\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        addToCart: (dish) => {\r\n            console.log('Cart: addToCart called with dish:', dish); // Debug log\r\n\r\n            if (!tableId) {\r\n                console.log('Cart: No table selected'); // Debug log\r\n                setError('Please select a table first');\r\n                setSuccessMessage(''); // Clear any existing success message\r\n                return;\r\n            }\r\n\r\n            if (!dish) {\r\n                console.log('Cart: No dish provided'); // Debug log\r\n                return;\r\n            }\r\n\r\n            setCartItems(prevItems => {\r\n                const existingItem = prevItems.find(item => item.id === dish.id);\r\n                if (existingItem) {\r\n                    console.log('Cart: Updating existing item quantity'); // Debug log\r\n                    return prevItems.map(item =>\r\n                        item.id === dish.id\r\n                            ? { ...item, quantity: (parseInt(item.quantity) || 1) + 1 }\r\n                            : item\r\n                    );\r\n                }\r\n                console.log('Cart: Adding new item'); // Debug log\r\n                return [...prevItems, { ...dish, quantity: 1 }];\r\n            });\r\n            setError(null);\r\n        }\r\n    }), [tableId]);\r\n\r\n    const fetchTaxes = async () => {\r\n        try {\r\n            setLoading(true);\r\n            const response = await axios.get('http://localhost:5000/api/taxes');\r\n            setTaxes(response.data);\r\n            setError(null);\r\n        } catch (err) {\r\n            console.error('Cart: Error fetching taxes:', err);\r\n            setError('Failed to fetch taxes');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const removeFromCart = (dishId) => {\r\n        setCartItems(prevItems => prevItems.filter(item => item.id !== dishId));\r\n    };\r\n\r\n    const updateQuantity = (dishId, newQuantity) => {\r\n        if (newQuantity < 1) {\r\n            removeFromCart(dishId);\r\n            return;\r\n        }\r\n        setCartItems(prevItems =>\r\n            prevItems.map(item =>\r\n                item.id === dishId\r\n                    ? { ...item, quantity: newQuantity }\r\n                    : item\r\n            )\r\n        );\r\n    };\r\n\r\n    const calculateSubtotal = () => {\r\n        return cartItems.reduce((sum, item) => {\r\n            const price = parseFloat(item.price) || 0;\r\n            const quantity = parseInt(item.quantity) || 0;\r\n            return sum + (price * quantity);\r\n        }, 0);\r\n    };\r\n\r\n    const calculateTax = (subtotal) => {\r\n        return taxes.reduce((sum, tax) => {\r\n            const percentage = parseFloat(tax.percentage) || 0;\r\n            return sum + ((subtotal * percentage) / 100);\r\n        }, 0);\r\n    };\r\n\r\n    const calculateTotal = () => {\r\n        const subtotal = calculateSubtotal();\r\n        const tax = calculateTax(subtotal);\r\n        return subtotal + tax;\r\n    };\r\n\r\n    const handlePlaceOrder = async () => {\r\n        if (!tableId) {\r\n            setError('Please select a table first');\r\n            return;\r\n        }\r\n        if (cartItems.length === 0) {\r\n            setError('Cart is empty');\r\n            return;\r\n        }\r\n\r\n        try {\r\n            // Format items for the server\r\n            const formattedItems = cartItems.map(item => ({\r\n                id: item.id,\r\n                quantity: item.quantity,\r\n                price: item.price\r\n            }));\r\n\r\n            const orderData = {\r\n                table_id: tableId,\r\n                items: formattedItems,\r\n                total_amount: calculateTotal()\r\n            };\r\n\r\n            console.log('Cart: Sending order data:', orderData);\r\n\r\n            const response = await axios.post('http://localhost:5000/api/orders', orderData);\r\n            console.log('Cart: Order created successfully:', response.data);\r\n\r\n            // Generate bill\r\n            const billResponse = await axios.get(`http://localhost:5000/api/orders/${response.data.id}/bill`);\r\n            setBillData(billResponse.data);\r\n            setShowBill(true);\r\n\r\n            // Clear cart after successful order\r\n            setCartItems([]);\r\n            setError('');\r\n            setSuccessMessage('Order placed successfully!');\r\n\r\n        } catch (error) {\r\n            console.error('Cart: Error placing order:', error.response?.data || error.message);\r\n            setError(error.response?.data?.error || 'Failed to create order');\r\n        }\r\n    };\r\n\r\n    const generatePDF = () => {\r\n        if (!billData) {\r\n            setError('No bill data available');\r\n            return;\r\n        }\r\n\r\n        try {\r\n            // Initialize PDF with 80mm width (converting mm to points: 80mm = 226.772 points)\r\n            // Height is set to auto (297mm = 841.89 points)\r\n            const doc = new jsPDF({\r\n                unit: 'mm',\r\n                format: [80, 297],\r\n                orientation: 'portrait'\r\n            });\r\n            \r\n            // Set initial y position\r\n            let yPos = 10;\r\n            \r\n            // Add header\r\n            doc.setFontSize(12);\r\n            doc.text('Bill Details', 40, yPos, { align: 'center' });\r\n            \r\n            // Move down\r\n            yPos += 10;\r\n            \r\n            // Add bill information\r\n            doc.setFontSize(8);\r\n            doc.text(`Order ID: ${billData.orderId}`, 5, yPos);\r\n            yPos += 5;\r\n            doc.text(`Table Number: T${billData.tableNumber}`, 5, yPos);\r\n            yPos += 5;\r\n            doc.text(`Date: ${new Date(billData.date).toLocaleString()}`, 5, yPos);\r\n            yPos += 8;\r\n\r\n            // Create items table\r\n            const tableColumn = ['Item', 'Qty', 'Price', 'Total'];\r\n            const tableRows = billData.items.map(item => {\r\n                const price = Number(item.price);\r\n                const quantity = Number(item.quantity);\r\n                const total = price * quantity;\r\n                return [\r\n                    item.name,\r\n                    quantity.toString(),\r\n                    price.toFixed(2),\r\n                    total.toFixed(2)\r\n                ];\r\n            });\r\n\r\n            // Add items table using autoTable\r\n            autoTable(doc, {\r\n                startY: yPos,\r\n                head: [tableColumn],\r\n                body: tableRows,\r\n                theme: 'plain',\r\n                styles: {\r\n                    fontSize: 8,\r\n                    cellPadding: 2,\r\n                    lineColor: [0, 0, 0],\r\n                    lineWidth: 0.1,\r\n                    minCellHeight: 6\r\n                },\r\n                columnStyles: {\r\n                    0: { cellWidth: 30 },    // Item name\r\n                    1: { cellWidth: 10, halign: 'center' }, // Quantity\r\n                    2: { cellWidth: 15, halign: 'right' },  // Price\r\n                    3: { cellWidth: 15, halign: 'right' }   // Total\r\n                },\r\n                headStyles: {\r\n                    fillColor: false,\r\n                    textColor: [0, 0, 0],\r\n                    fontStyle: 'bold',\r\n                    halign: 'left'\r\n                },\r\n                margin: { left: 5, right: 5 },\r\n                tableWidth: 70\r\n            });\r\n\r\n            // Get the final Y position after the table\r\n            yPos = doc.lastAutoTable.finalY + 5;\r\n\r\n            // Calculate totals\r\n            const subtotal = billData.items.reduce((sum, item) => {\r\n                const price = Number(item.price) || 0;\r\n                const quantity = Number(item.quantity) || 0;\r\n                return sum + (price * quantity);\r\n            }, 0);\r\n\r\n            const tax = subtotal * 0.1; // 10% tax\r\n            const total = subtotal + tax;\r\n\r\n            // Add summary with right alignment\r\n            doc.setFontSize(8);\r\n            doc.text(`Subtotal: ${subtotal.toFixed(2)}`, 75, yPos, { align: 'right' });\r\n            yPos += 5;\r\n            doc.text(`Tax: ${tax.toFixed(2)}`, 75, yPos, { align: 'right' });\r\n            yPos += 5;\r\n            doc.setFont(undefined, 'bold');\r\n            doc.text(`Total: ${total.toFixed(2)}`, 75, yPos, { align: 'right' });\r\n\r\n            // Save the PDF\r\n            doc.save(`bill-${billData.orderId}.pdf`);\r\n            setError(null);\r\n        } catch (err) {\r\n            console.error('Error generating PDF:', err);\r\n            setError(`Failed to generate PDF: ${err.message}`);\r\n        }\r\n    };\r\n\r\n    const handleCloseBill = async () => {\r\n        try {\r\n            // Try to generate PDF first\r\n            generatePDF();\r\n            \r\n            // If PDF generation was successful, proceed with closing the bill\r\n            await axios.patch(`http://localhost:5000/api/tables/${tableId}/status`, {\r\n                status: 'available'\r\n            });\r\n            \r\n            // Clear the bill and cart\r\n            setShowBill(false);\r\n            setCartItems([]);\r\n            setSuccessMessage('Bill closed and table marked as available');\r\n            setTimeout(() => setSuccessMessage(''), 3000);\r\n            \r\n            // Notify parent component if callback exists\r\n            if (typeof onOrderComplete === 'function') {\r\n                onOrderComplete();\r\n            }\r\n        } catch (err) {\r\n            console.error('Cart: Error closing bill:', err);\r\n            setError('Failed to close bill: ' + (err.response?.data?.message || err.message));\r\n            setTimeout(() => setError(null), 3000);\r\n        }\r\n    };\r\n\r\n    const formatCurrency = (value) => {\r\n        const number = parseFloat(value);\r\n        return isNaN(number) ? '0.00' : number.toFixed(2);\r\n    };\r\n\r\n    const formatDate = (dateString) => {\r\n        return new Date(dateString).toLocaleString();\r\n    };\r\n\r\n    return (\r\n        <div className=\"p-4\">\r\n            <h2 className=\"text-2xl font-bold mb-4\">Cart</h2>\r\n            \r\n            {successMessage && (\r\n                <div className=\"mb-4 p-3 bg-green-100 border border-green-400 text-green-700 rounded\">\r\n                    {successMessage}\r\n                </div>\r\n            )}\r\n\r\n            {error && (\r\n                <div className=\"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded\">\r\n                    {error}\r\n                </div>\r\n            )}\r\n\r\n            {showBill && billData && (\r\n                <div className=\"bg-white p-6 rounded-lg shadow-lg\">\r\n                    <h3 className=\"text-xl font-bold mb-3\">Bill Details</h3>\r\n                    <div className=\"space-y-2\">\r\n                        <p><strong>Order ID:</strong> {billData.orderId}</p>\r\n                        <p><strong>Table Number:</strong> {billData.tableNumber}</p>\r\n                        <p><strong>Date:</strong> {formatDate(billData.date)}</p>\r\n                        \r\n                        <div className=\"mt-4\">\r\n                            <table className=\"w-full\">\r\n                                <thead>\r\n                                    <tr className=\"border-b\">\r\n                                        <th className=\"text-left py-2\">Item</th>\r\n                                        <th className=\"text-center py-2\">Qty</th>\r\n                                        <th className=\"text-right py-2\">Price</th>\r\n                                        <th className=\"text-right py-2\">Total</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {billData.items.map((item, index) => (\r\n                                        <tr key={index} className=\"border-b\">\r\n                                            <td className=\"py-2\">{item.name}</td>\r\n                                            <td className=\"text-center py-2\">{item.quantity}</td>\r\n                                            <td className=\"text-right py-2\">₹{formatCurrency(item.price)}</td>\r\n                                            <td className=\"text-right py-2\">₹{formatCurrency(item.quantity * item.price)}</td>\r\n                                        </tr>\r\n                                    ))}\r\n                                </tbody>\r\n                                <tfoot>\r\n                                    <tr className=\"border-b\">\r\n                                        <td colSpan=\"3\" className=\"text-right py-2\"><strong>Subtotal:</strong></td>\r\n                                        <td className=\"text-right py-2\">₹{formatCurrency(billData.subtotal)}</td>\r\n                                    </tr>\r\n                                    <tr className=\"border-b\">\r\n                                        <td colSpan=\"3\" className=\"text-right py-2\"><strong>Tax:</strong></td>\r\n                                        <td className=\"text-right py-2\">₹{formatCurrency(billData.tax)}</td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <td colSpan=\"3\" className=\"text-right py-2\"><strong>Total:</strong></td>\r\n                                        <td className=\"text-right py-2 font-bold\">₹{formatCurrency(billData.total)}</td>\r\n                                    </tr>\r\n                                </tfoot>\r\n                            </table>\r\n                        </div>\r\n\r\n                        <div className=\"mt-6 flex justify-end space-x-4\">\r\n                            <button\r\n                                onClick={generatePDF}\r\n                                className=\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors flex items-center gap-2\"\r\n                            >\r\n                                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\r\n                                </svg>\r\n                                Download PDF\r\n                            </button>\r\n                            <button\r\n                                onClick={handleCloseBill}\r\n                                className=\"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors flex items-center gap-2\"\r\n                            >\r\n                                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\r\n                                </svg>\r\n                                Close Bill\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {!tableId && (\r\n                <div className=\"mb-4 p-3 bg-yellow-100 border border-yellow-400 text-yellow-700 rounded\">\r\n                    Please select a table to start ordering\r\n                </div>\r\n            )}\r\n\r\n            {loading ? (\r\n                <div className=\"flex justify-center items-center py-8\">\r\n                    <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900\"></div>\r\n                </div>\r\n            ) : cartItems.length === 0 ? (\r\n                <p className=\"text-gray-500\">Your cart is empty</p>\r\n            ) : (\r\n                <>\r\n                    <div className=\"space-y-4 mb-6\">\r\n                        {cartItems.map((item) => (\r\n                            <div key={item.id} className=\"flex justify-between items-center border-b pb-4\">\r\n                                <div>\r\n                                    <h3 className=\"font-semibold\">{item.name}</h3>\r\n                                    <p className=\"text-gray-600\">₹{parseFloat(item.price || 0).toFixed(2)}</p>\r\n                                </div>\r\n                                <div className=\"flex items-center space-x-4\">\r\n                                    <div className=\"flex items-center space-x-2\">\r\n                                        <button\r\n                                            onClick={() => updateQuantity(item.id, (parseInt(item.quantity) || 1) - 1)}\r\n                                            className=\"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center hover:bg-gray-300\"\r\n                                        >\r\n                                            -\r\n                                        </button>\r\n                                        <span className=\"w-8 text-center\">{item.quantity || 1}</span>\r\n                                        <button\r\n                                            onClick={() => updateQuantity(item.id, (parseInt(item.quantity) || 1) + 1)}\r\n                                            className=\"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center hover:bg-gray-300\"\r\n                                        >\r\n                                            +\r\n                                        </button>\r\n                                    </div>\r\n                                    <button\r\n                                        onClick={() => removeFromCart(item.id)}\r\n                                        className=\"text-red-500 hover:text-red-700\"\r\n                                    >\r\n                                        Remove\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n\r\n                    <div className=\"border-t pt-4 space-y-2\">\r\n                        <div className=\"flex justify-between\">\r\n                            <span>Subtotal:</span>\r\n                            <span>₹{calculateSubtotal().toFixed(2)}</span>\r\n                        </div>\r\n                        <div className=\"flex justify-between\">\r\n                            <span>Tax:</span>\r\n                            <span>₹{calculateTax(calculateSubtotal()).toFixed(2)}</span>\r\n                        </div>\r\n                        <div className=\"flex justify-between font-bold\">\r\n                            <span>Total:</span>\r\n                            <span>₹{calculateTotal().toFixed(2)}</span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"mt-6 space-y-3\">\r\n                        <button\r\n                            onClick={handlePlaceOrder}\r\n                            disabled={loading}\r\n                            className=\"w-full py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:bg-blue-300\"\r\n                        >\r\n                            {loading ? 'Placing Order...' : 'Place Order'}\r\n                        </button>\r\n                    </div>\r\n                </>\r\n            )}\r\n        </div>\r\n    );\r\n});\r\n\r\nCart.displayName = 'Cart';\r\n\r\nexport default Cart; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}