{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CategoryPage=()=>{const[categories,setCategories]=useState([]);const[newCategory,setNewCategory]=useState({name:''});const[editingCategory,setEditingCategory]=useState(null);useEffect(()=>{fetchCategories();},[]);const fetchCategories=async()=>{try{const response=await axios.get('http://localhost:5000/api/categories');setCategories(response.data);}catch(error){console.error('Error fetching categories:',error);}};const handleAddCategory=async e=>{e.preventDefault();try{await axios.post('http://localhost:5000/api/categories',newCategory);setNewCategory({name:''});fetchCategories();}catch(error){console.error('Error adding category:',error);alert('Failed to add category');}};const handleUpdateCategory=async e=>{e.preventDefault();try{await axios.put(`http://localhost:5000/api/categories/${editingCategory.id}`,editingCategory);setEditingCategory(null);fetchCategories();}catch(error){console.error('Error updating category:',error);alert('Failed to update category');}};const handleDeleteCategory=async categoryId=>{if(window.confirm('Are you sure you want to delete this category?')){try{await axios.delete(`http://localhost:5000/api/categories/${categoryId}`);fetchCategories();}catch(error){console.error('Error deleting category:',error);alert('Failed to delete category');}}};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold mb-6\",children:\"Category Management\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-4\",children:\"Add New Category\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleAddCategory,className:\"max-w-md\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Category Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newCategory.name,onChange:e=>setNewCategory({name:e.target.value}),className:\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500\",required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full py-2 px-4 bg-indigo-600 text-white rounded hover:bg-indigo-700\",children:\"Add Category\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-4\",children:\"Categories\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\",children:categories.map(category=>/*#__PURE__*/_jsx(\"div\",{className:\"border rounded-lg p-4\",children:(editingCategory===null||editingCategory===void 0?void 0:editingCategory.id)===category.id?/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleUpdateCategory,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Category Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:editingCategory.name,onChange:e=>setEditingCategory({...editingCategory,name:e.target.value}),className:\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"flex-1 py-2 px-4 bg-green-600 text-white rounded hover:bg-green-700\",children:\"Save\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setEditingCategory(null),className:\"flex-1 py-2 px-4 bg-gray-600 text-white rounded hover:bg-gray-700\",children:\"Cancel\"})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold\",children:category.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setEditingCategory(category),className:\"text-blue-600 hover:text-blue-800\",children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteCategory(category.id),className:\"text-red-600 hover:text-red-800\",children:\"Delete\"})]})]})},category.id))})]})]});};export default CategoryPage;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","CategoryPage","categories","setCategories","newCategory","setNewCategory","name","editingCategory","setEditingCategory","fetchCategories","response","get","data","error","console","handleAddCategory","e","preventDefault","post","alert","handleUpdateCategory","put","id","handleDeleteCategory","categoryId","window","confirm","delete","className","children","onSubmit","type","value","onChange","target","required","map","category","onClick"],"sources":["C:/Users/5518/work1/client/src/pages/Categories.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst CategoryPage = () => {\r\n  const [categories, setCategories] = useState([]);\r\n  const [newCategory, setNewCategory] = useState({ name: '' });\r\n  const [editingCategory, setEditingCategory] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchCategories();\r\n  }, []);\r\n\r\n  const fetchCategories = async () => {\r\n    try {\r\n      const response = await axios.get('http://localhost:5000/api/categories');\r\n      setCategories(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching categories:', error);\r\n    }\r\n  };\r\n\r\n  const handleAddCategory = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await axios.post('http://localhost:5000/api/categories', newCategory);\r\n      setNewCategory({ name: '' });\r\n      fetchCategories();\r\n    } catch (error) {\r\n      console.error('Error adding category:', error);\r\n      alert('Failed to add category');\r\n    }\r\n  };\r\n\r\n  const handleUpdateCategory = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await axios.put(`http://localhost:5000/api/categories/${editingCategory.id}`, editingCategory);\r\n      setEditingCategory(null);\r\n      fetchCategories();\r\n    } catch (error) {\r\n      console.error('Error updating category:', error);\r\n      alert('Failed to update category');\r\n    }\r\n  };\r\n\r\n  const handleDeleteCategory = async (categoryId) => {\r\n    if (window.confirm('Are you sure you want to delete this category?')) {\r\n      try {\r\n        await axios.delete(`http://localhost:5000/api/categories/${categoryId}`);\r\n        fetchCategories();\r\n      } catch (error) {\r\n        console.error('Error deleting category:', error);\r\n        alert('Failed to delete category');\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-6\">\r\n      <h1 className=\"text-2xl font-bold mb-6\">Category Management</h1>\r\n\r\n      {/* Add New Category Form */}\r\n      <div className=\"bg-white p-6 rounded-lg shadow mb-6\">\r\n        <h2 className=\"text-xl font-semibold mb-4\">Add New Category</h2>\r\n        <form onSubmit={handleAddCategory} className=\"max-w-md\">\r\n          <div className=\"mb-4\">\r\n            <label className=\"block text-sm font-medium text-gray-700\">\r\n              Category Name\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              value={newCategory.name}\r\n              onChange={(e) => setNewCategory({ name: e.target.value })}\r\n              className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500\"\r\n              required\r\n            />\r\n          </div>\r\n          <button\r\n            type=\"submit\"\r\n            className=\"w-full py-2 px-4 bg-indigo-600 text-white rounded hover:bg-indigo-700\"\r\n          >\r\n            Add Category\r\n          </button>\r\n        </form>\r\n      </div>\r\n\r\n      {/* Categories List */}\r\n      <div className=\"bg-white p-6 rounded-lg shadow\">\r\n        <h2 className=\"text-xl font-semibold mb-4\">Categories</h2>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n          {categories.map(category => (\r\n            <div key={category.id} className=\"border rounded-lg p-4\">\r\n              {editingCategory?.id === category.id ? (\r\n                <form onSubmit={handleUpdateCategory} className=\"space-y-4\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700\">\r\n                      Category Name\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={editingCategory.name}\r\n                      onChange={(e) => setEditingCategory({ ...editingCategory, name: e.target.value })}\r\n                      className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500\"\r\n                      required\r\n                    />\r\n                  </div>\r\n                  <div className=\"flex space-x-2\">\r\n                    <button\r\n                      type=\"submit\"\r\n                      className=\"flex-1 py-2 px-4 bg-green-600 text-white rounded hover:bg-green-700\"\r\n                    >\r\n                      Save\r\n                    </button>\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => setEditingCategory(null)}\r\n                      className=\"flex-1 py-2 px-4 bg-gray-600 text-white rounded hover:bg-gray-700\"\r\n                    >\r\n                      Cancel\r\n                    </button>\r\n                  </div>\r\n                </form>\r\n              ) : (\r\n                <div className=\"flex justify-between items-center\">\r\n                  <h3 className=\"text-lg font-semibold\">{category.name}</h3>\r\n                  <div className=\"flex space-x-2\">\r\n                    <button\r\n                      onClick={() => setEditingCategory(category)}\r\n                      className=\"text-blue-600 hover:text-blue-800\"\r\n                    >\r\n                      Edit\r\n                    </button>\r\n                    <button\r\n                      onClick={() => handleDeleteCategory(category.id)}\r\n                      className=\"text-red-600 hover:text-red-800\"\r\n                    >\r\n                      Delete\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CategoryPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}